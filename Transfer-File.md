# Transfer File

‡∏ñ‡πâ‡∏≤ ‚Äú‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‚Äù ‡πÅ‡∏•‡∏∞‡∏ú‡πà‡∏≤‡∏ô SSH ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‚Äî‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠ **rsync**, **scp**, ‡πÅ‡∏•‡∏∞ **sftp** (‡∏û‡∏£‡πâ‡∏≠‡∏° reget/resume). ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏î‡∏µ? ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢

# ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô

* **‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏≠‡∏ô‡πÑ‡∏ü‡∏•‡πå/‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏ç‡πà ‡πÜ ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å resume ‡πÑ‡∏î‡πâ, ‡∏ó‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á, sync ‡∏ã‡πâ‡∏≥ ‡πÜ**
  ‚Üí ‡πÉ‡∏ä‡πâ **`rsync`** ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏∏‡∏î
  ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô: resume ‡πÑ‡∏î‡πâ, ‡πÇ‡∏≠‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á (delta), ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏ö‡∏ô‡∏î‡πå‡∏ß‡∏¥‡∏ò‡πÑ‡∏î‡πâ, ‡∏°‡∏µ progress ‡∏î‡∏µ, ‡∏ï‡∏£‡∏ß‡∏à checksum ‡πÑ‡∏î‡πâ

* **‡πÇ‡∏≠‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢ ‡πÜ (single shot) ‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡πá‡∏ï‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£**
  ‚Üí **`scp`** ‡∏û‡∏≠‡πÑ‡∏î‡πâ (‡∏á‡πà‡∏≤‡∏¢‡∏™‡∏∏‡∏î)
  ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢: resume ‡πÑ‡∏°‡πà‡∏î‡∏µ‡πÄ‡∏ó‡πà‡∏≤ rsync, ‡πÑ‡∏°‡πà‡∏°‡∏µ delta

* **‡πÇ‡∏≠‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏¢‡∏≤‡∏Å ‚Äú‡∏Å‡∏î‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏¥‡∏°‚Äù ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°**
  ‚Üí **`sftp`** ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `reget`/`reput` ‡πÑ‡∏î‡πâ (resume ‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ delta)

* **‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏•‡πá‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏ö‡∏ô LAN ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏î overhead ‡∏à‡∏≤‡∏Å metadata**
  ‚Üí **`tar` over SSH** ‡∏´‡∏£‡∏∑‡∏≠ **`rsync -W`** (whole-file) ‡∏à‡∏∞‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤

---

# ‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏ö‡πà‡∏≠‡∏¢

## 1) rsync: ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà/‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå, resume ‡πÑ‡∏î‡πâ

```bash
# ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß/‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå ‡∏û‡∏£‡πâ‡∏≠‡∏° progress + resume + verify
rsync -avP --partial --append-verify \
  /path/to/src  user@host:/path/to/dst

# ‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏î‡∏µ (‡πÄ‡∏ä‡πà‡∏ô text, csv) ‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡∏¥‡∏î -z
rsync -avP -z --partial --append-verify /data/ user@host:/data/

# ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏ö‡∏ô‡∏î‡πå‡∏ß‡∏¥‡∏ò (‡πÄ‡∏ä‡πà‡∏ô 80 MB/s = 640000 Kbps)
rsync -avP --bwlimit=640000 /data user@host:/data

# mirror ‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á (‡∏£‡∏∞‡∏ß‡∏±‡∏á --delete!)
rsync -aHAXx --info=progress2 --partial --append-verify --delete \
  /mnt/src/  user@host:/mnt/dst/
```

‡∏ó‡∏¥‡∏õ:

* WAN latency ‡∏™‡∏π‡∏á/‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏´‡∏∂‡∏°‡∏≤: ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ `--inplace` (‡∏•‡∏î I/O ‡∏™‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤) ‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏ß‡∏±‡∏á snapshot/backup
* ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏Ç‡πâ‡∏°‡∏™‡∏∏‡∏î ‡πÜ: ‡πÄ‡∏û‡∏¥‡πà‡∏° `--checksum` (‡∏ä‡πâ‡∏≤‡∏•‡∏á‡πÅ‡∏ï‡πà‡∏ä‡∏±‡∏ß‡∏£‡πå) ‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏ô rsync ‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ä‡πâ `--checksum-choice=xxh3`

## 2) scp: ‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏£‡πá‡∏ß ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö

```bash
# ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö
scp /big/file.iso user@host:/dst/

# ‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏î‡∏µ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡∏¥‡∏î -C (‡∏ñ‡πâ‡∏≤‡πÑ‡∏ü‡∏•‡πå .iso/.zip/.tar.gz ‡∏°‡∏±‡∏Å‡πÑ‡∏°‡πà‡∏ä‡πà‡∏ß‡∏¢)
scp -C /logs/big.txt user@host:/dst/

# ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏ö‡∏ô‡∏î‡πå‡∏ß‡∏¥‡∏ò (‡∏´‡∏ô‡πà‡∏ß‡∏¢ Kbit/s)
scp -l 80000 /big/file.iso user@host:/dst/
```

‡∏ó‡∏¥‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß:

* CPU ‡∏°‡∏µ AES-NI: ‡πÉ‡∏ä‡πâ `-c aes128-gcm@openssh.com`
* CPU ‡πÑ‡∏°‡πà‡∏°‡∏µ AES ‡πÄ‡∏£‡πá‡∏ß: ‡πÉ‡∏ä‡πâ `-c chacha20-poly1305@openssh.com`

## 3) sftp: resume ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ô‡∏ó‡∏µ‡∏ü

```bash
sftp user@host
sftp> put -P /big/file.iso    # -P = ‡πÅ‡∏™‡∏î‡∏á progress
# ‡∏ñ‡πâ‡∏≤‡∏´‡∏•‡∏∏‡∏î
sftp> reget /big/file.iso
```

## 4) tar over SSH: ‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏•‡πá‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å

```bash
# bundle ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡∏ó‡πà‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏•‡∏î syscalls/round-trip
tar -cf - /path/to/dir | ssh user@host 'tar -xf - -C /dst/'
# ‡πÉ‡∏™‡πà pv ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß (‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á pv ‡∏Å‡πà‡∏≠‡∏ô)
tar -cf - /path | pv | ssh user@host 'tar -xf - -C /dst/'
```

---

# ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞ (Decision Tips)

* ‡πÇ‡∏≠‡∏ô‡πÑ‡∏ü‡∏•‡πå/‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏Å ‡πÜ, ‡πÇ‡∏≠‡∏ô‡∏ã‡πâ‡∏≥‡∏ö‡πà‡∏≠‡∏¢, ‡∏Å‡∏•‡∏±‡∏ß‡∏´‡∏•‡∏∏‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏ó‡∏≤‡∏á ‚Üí **rsync** (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏∏‡∏î)
* ‡πÇ‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß, ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‚Üí **scp**
* ‡∏ï‡πâ‡∏≠‡∏á ‚Äú‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏≤‡∏á‚Äù ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ ‚Üí **sftp reget**
* LAN ‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å, ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏û‡∏µ‡∏¢‡∏ö ‚Üí **tar|ssh** ‡∏´‡∏£‡∏∑‡∏≠ **rsync -W**

# ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á Performance/‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏£‡∏π‡πâ

* **Compression**: ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î‡πÑ‡∏î‡πâ (text, csv). ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (.zip/.gz/.iso/.mp4) ‡πÄ‡∏õ‡∏¥‡∏î -C/-z ‡∏à‡∏∞‡∏ä‡πâ‡∏≤‡∏•‡∏á
* **Cipher**: `chacha20-poly1305@openssh.com` ‡∏°‡∏±‡∏Å‡πÄ‡∏£‡πá‡∏ß‡∏ö‡∏ô CPU ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ; `aes128-gcm@openssh.com` ‡πÄ‡∏£‡πá‡∏ß‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ AES-NI
* **Bandwidth control**: ‡πÉ‡∏ä‡πâ `--bwlimit` (rsync) ‡∏´‡∏£‡∏∑‡∏≠ `-l` (scp) ‡∏Å‡∏±‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ï‡∏±‡∏ô
* **Verify ‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏≠‡∏ô**: ‡πÉ‡∏ä‡πâ `rsync --checksum` ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö `sha256sum` ‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á/‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á

‡∏™‡∏£‡∏∏‡∏õ: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏¢ Infra/Prod ‡πÇ‡∏≠‡∏ô‡πÉ‡∏´‡∏ç‡πà ‡πÜ ‡πÉ‡∏´‡πâ **‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà rsync** ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡πÄ‡∏û‡∏¥‡πà‡∏° `-avP --partial --append-verify`), ‡∏™‡πà‡∏ß‡∏ô `scp` ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™‡∏á‡πà‡∏≤‡∏¢ ‡πÜ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö ‡πÅ‡∏•‡∏∞ `sftp reget` ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°‡πÅ‡∏ö‡∏ö‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤.

# How to test 


‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‚Äî‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡∏ö‡∏ô Linux ‡∏ó‡∏µ‡πà‡∏à‡∏∞ ‚Äú‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏Å‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‚Äù ‡πÇ‡∏≠‡∏ô‡∏ñ‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡πâ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏ß‡∏±‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏±‡∏î end-to-end (‡∏≠‡πà‡∏≤‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå ‚Üí ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™/‡∏™‡πà‡∏á ‚Üí ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå)

# 1) ‡∏ß‡∏±‡∏î‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ `iperf3` (‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡πà‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå)

**‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á (‡∏£‡∏±‡∏ö):**

```bash
iperf3 -s
```

**‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á (‡∏™‡πà‡∏á):**

```bash
iperf3 -c <IP-‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á> -P 4
```

‡∏î‡∏π‡∏Ñ‡πà‡∏≤‡∏£‡∏ß‡∏° `Mbits/sec` ‡∏ó‡∏µ‡πà‡∏ó‡πâ‡∏≤‡∏¢‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (‡πÄ‡∏ä‡πà‡∏ô 820 Mbits/sec)

**‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏î‡∏¢‡∏Ñ‡∏£‡πà‡∏≤‡∏ß:**

```
‡πÄ‡∏ß‡∏•‡∏≤(‡∏ô‡∏≤‡∏ó‡∏µ) ‚âà ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå(GB-‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°) √ó 8 / ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß(Mbits/sec) / 60
```

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 120 GB ‡∏ó‡∏µ‡πà 820 Mbits/sec ‚áí 120√ó8/820/60 ‚âà 0.19 ‡∏ä‡∏°. ‚âà 11.7 ‡∏ô‡∏≤‡∏ó‡∏µ
*‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:* iperf3 ‡∏ß‡∏±‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏°‡∏î‡∏¥‡∏™‡∏Å‡πå/CPU ‡πÅ‡∏•‡∏∞ overhead ‡∏Ç‡∏≠‡∏á SSH

# 2) ‡∏ß‡∏±‡∏î end-to-end ‡∏ú‡πà‡∏≤‡∏ô SSH ‡∏î‡πâ‡∏ß‡∏¢ `pv` (‡∏£‡∏ß‡∏° encryption + network ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∞‡∏£‡∏ß‡∏° I/O ‡∏î‡∏¥‡∏™‡∏Å‡πå‡πÑ‡∏î‡πâ)

## 2.1 ‡∏ß‡∏±‡∏î ‚Äú‡∏™‡πà‡∏á‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏ï‡πà‡∏ó‡∏¥‡πâ‡∏á‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‚Äù (‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á)

```bash
# ‡∏ö‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á
pv /path/to/bigfile | ssh user@dest "cat > /dev/null"
```

‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏à‡∏≤‡∏Å `pv` (MB/s) ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤ = ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå(GB) √∑ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß(GB/s)

## 2.2 ‡∏ß‡∏±‡∏î‡∏Ñ‡∏£‡∏ö‡∏•‡∏π‡∏õ ‚Äú‡∏≠‡πà‡∏≤‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á ‚Üí ‡∏™‡πà‡∏á ‚Üí ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‚Äù

```bash
pv /path/to/bigfile | ssh user@dest "cat > /mnt/target/testfile"
```

‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏™‡∏≠‡∏á‡∏ù‡∏±‡πà‡∏á + CPU + ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ + SSH)

> ‡∏ó‡∏¥‡∏õ: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡∏≤‡∏Å ‚Äú‡∏•‡∏≠‡∏á‡∏¢‡∏Å‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‚Äù ‡∏Å‡πà‡∏≠‡∏ô
> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏î‡∏™‡∏≠‡∏ö ~5‚Äì20GB:
>
> ```bash
> fallocate -l 10G /tmp/test.img             # ‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏Å‡∏¥‡∏ô CPU
> pv /tmp/test.img | ssh user@dest "cat > /mnt/target/test.img"
> ```

# 3) ‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ö‡∏≠‡∏Å ETA ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢ (‡∏á‡πà‡∏≤‡∏¢‡∏™‡∏∏‡∏î)

## 3.1 `rsync` ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞ ETA

```bash
rsync -av --info=progress2 -e "ssh -T -o Compression=no -c aes128-gcm@openssh.com" \
  /path/to/bigfile user@dest:/mnt/target/
```

`--info=progress2` ‡∏à‡∏∞‡πÇ‡∏ä‡∏ß‡πå speed/ETA ‡∏£‡∏ß‡∏°‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏Ç‡∏≠‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏±‡∏ô‡πÑ‡∏î‡πâ (Ctrl+C) ‡∏ñ‡πâ‡∏≤‡πÅ‡∏Ñ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£

## 3.2 `scp` ‡∏Å‡πá‡∏°‡∏µ ETA

```bash
scp /path/to/bigfile user@dest:/mnt/target/
```

‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏±‡∏ô‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì

# 4) ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡πá‡∏ß‡∏ö‡∏ô‡πÄ‡∏ä‡∏•‡∏•‡πå

‡∏Å‡∏£‡∏ì‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡πà‡∏≤ ‚Äú‡∏™‡∏õ‡∏µ‡∏î‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‚Äù ‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£ (‡πÄ‡∏ä‡πà‡∏ô‡∏à‡∏≤‡∏Å iperf3 ‡∏´‡∏£‡∏∑‡∏≠ pv):

```bash
# SIZE_GB = ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏ô‡πà‡∏ß‡∏¢ GB (‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°), SPEED_MBPS = ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢ Mbits/sec
SIZE_GB=120
SPEED_MBPS=600
echo "scale=2; $SIZE_GB*8/$SPEED_MBPS*60" | bc   # ‡∏ô‡∏≤‡∏ó‡∏µ
```

‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô MB/s (‡∏à‡∏≤‡∏Å pv/rsync):

```bash
SIZE_GB=120
SPEED_MBPSec=75   # 75 MB/s
echo "scale=2; $SIZE_GB*1024/$SPEED_MBPSec/60" | bc
```

# ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ ETA ‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô

* **‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏ä‡πâ‡∏≤**: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏à‡∏£‡∏¥‡∏á = ‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á (‡∏≠‡πà‡∏≤‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á, ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á, CPU/‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™)
* **SSH ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™**: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á `-c aes128-gcm@openssh.com` ‡πÅ‡∏•‡∏∞‡∏õ‡∏¥‡∏î `Compression` ‡∏´‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Å‡∏ß‡πâ‡∏≤‡∏á
* **‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏•‡πá‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å**: throughput ‡∏à‡∏∞‡∏ï‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡πâ‡∏≠‡∏ô‡πÉ‡∏´‡∏ç‡πà‚Äîrsync ‡∏°‡∏±‡∏Å‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ scp
* **Wi-Fi/Internet ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏ã‡∏ï‡πå**: latency ‡πÅ‡∏•‡∏∞ jitter ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏õ‡∏µ‡∏î‡πÅ‡∏Å‡∏ß‡πà‡∏á‚Äî‡πÉ‡∏ä‡πâ `iperf3 -P` (‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏ï‡∏£‡∏µ‡∏°) ‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‚Äú‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ‚Äù ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ:

1. ‡∏£‡∏±‡∏ô `iperf3` ‡∏´‡∏≤‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå ‚Üí 2) ‡∏£‡∏±‡∏ô `pv | ssh` ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏•‡∏á‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á 5‚Äì10GB ‚Üí 3) ‡πÉ‡∏ä‡πâ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô
   ‡∏™‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÑ‡∏î‡πâ ETA ‡∏ó‡∏µ‡πà‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏≠‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏Å‡πâ‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö.


# Process Test

‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‚Äî‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ ‚Äú‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô + ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‚Äù ‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πÄ‡∏ï‡πá‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏≠‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Linux 2 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡πâ‡πÉ‡∏Å‡∏•‡πâ‡∏Ç‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
(‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á: `SRC` = ‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á, `DST` = ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á, user ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ `user`, IP ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ `10.0.0.50`)

---

# 0) ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ (‡∏ó‡∏≥‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á)

Debian/Ubuntu:

```bash
sudo apt update
sudo apt install -y iperf3 pv rsync bc
```

RHEL/CentOS/Alma/Rocky (‡∏°‡∏µ dnf):

```bash
sudo dnf install -y iperf3 pv rsync bc
```

---

# 1) ‡∏ß‡∏±‡∏î ‚Äú‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‚Äù ‡∏î‡πâ‡∏ß‡∏¢ `iperf3` (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞‡∏î‡∏¥‡∏™‡∏Å‡πå)

‡∏ö‡∏ô `DST` (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á):

```bash
iperf3 -s
```

‡∏ö‡∏ô `SRC` (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á):

```bash
iperf3 -c 10.0.0.50 -P 4 -t 30
```

* ‡∏î‡∏π‡∏Ñ‡πà‡∏≤‡∏£‡∏ß‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î `receiver` (‡πÄ‡∏ä‡πà‡∏ô `820 Mbits/sec`)
* ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏™‡∏õ‡∏µ‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‚Äù

> ‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡πÑ‡∏ü‡∏£‡πå‡∏ß‡∏≠‡∏•‡∏•‡πå ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡∏û‡∏≠‡∏£‡πå‡∏ï TCP/UDP 5201 ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß

---

# 2) ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡∏Å‡πâ‡∏≠‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏û‡∏≠‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏õ‡∏µ‡∏î‡∏à‡∏£‡∏¥‡∏á)

‡∏ö‡∏ô `SRC`:

```bash
# ‡πÑ‡∏ü‡∏•‡πå 10GB ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡πÄ‡∏£‡πá‡∏ß ‡πÑ‡∏°‡πà‡∏Å‡∏¥‡∏ô CPU)
fallocate -l 10G /tmp/test.img
# ‡∏ñ‡πâ‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö fallocate ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ:
# dd if=/dev/zero of=/tmp/test.img bs=1M count=10240 status=progress
```

---

# 3) ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô SSH ‚Äú‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‚Äù (‡∏ï‡∏±‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏≠‡∏≠‡∏Å)

‡∏ö‡∏ô `SRC`:

```bash
pv /tmp/test.img | ssh -o Compression=no -T user@10.0.0.50 "cat > /dev/null"
```

* ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ó‡πâ‡∏≤‡∏¢‡∏à‡∏≠‡∏à‡∏≤‡∏Å `pv` (‡πÄ‡∏ä‡πà‡∏ô `75MB/s`)
* ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ ‚Äú‡∏™‡∏õ‡∏µ‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ + SSH‚Äù ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î‡∏Ñ‡∏≠‡∏Ç‡∏ß‡∏î‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏™‡∏Å‡πå

> ‡∏ó‡∏¥‡∏õ: ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£ ‡∏•‡∏≠‡∏á‡πÄ‡∏£‡πà‡∏á SSH:

```bash
pv /tmp/test.img | ssh -o Compression=no -c aes128-gcm@openssh.com -T user@10.0.0.50 "cat > /dev/null"
```

---

# 4) ‡∏ó‡∏î‡∏™‡∏≠‡∏ö end-to-end ‚Äú‡∏≠‡πà‡∏≤‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á ‚Üí ‡∏™‡πà‡∏á ‚Üí ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‚Äù (‡∏Ç‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏™‡∏∏‡∏î)

‡∏ö‡∏ô `DST` ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô:

```bash
sudo mkdir -p /mnt/target && sudo chown "$USER":"$USER" /mnt/target
```

‡∏ö‡∏ô `SRC`:

```bash
pv /tmp/test.img | ssh -o Compression=no -c aes128-gcm@openssh.com -T user@10.0.0.50 "cat > /mnt/target/test.img"
```

* ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏à‡∏≤‡∏Å `pv` ‡∏Ñ‡∏∑‡∏≠ throughput ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡πÇ‡∏≠‡∏ô (‡∏£‡∏ß‡∏°‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏™‡∏≠‡∏á‡∏ù‡∏±‡πà‡∏á + SSH + ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢)

> ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏ô `DST`:

```bash
ssh user@10.0.0.50 "rm -f /mnt/target/test.img"
```

---

# 5) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ‚Äú‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á (‡∏ô‡∏≤‡∏ó‡∏µ)‚Äù ‡∏à‡∏≤‡∏Å‡∏™‡∏õ‡∏µ‡∏î‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ

## 5.1 ‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏´‡∏ô‡πà‡∏ß‡∏¢ **MB/s** (‡∏à‡∏≤‡∏Å `pv`/`rsync`)

```bash
SIZE_GB=120       # ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (GB ‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡πÑ‡∏î‡πâ)
SPEED_MBPSec=75   # ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô (MB/s)
echo "scale=2; $SIZE_GB*1024/$SPEED_MBPSec/60" | bc   # ‡∏ô‡∏≤‡∏ó‡∏µ
```

## 5.2 ‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏´‡∏ô‡πà‡∏ß‡∏¢ **Mbits/sec** (‡∏à‡∏≤‡∏Å `iperf3`)

```bash
SIZE_GB=120
SPEED_Mbit=820
echo "scale=2; $SIZE_GB*8/$SPEED_Mbit*60" | bc        # ‡∏ô‡∏≤‡∏ó‡∏µ
```

## 5.3 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å ‚Äú‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á‡∏ö‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå + ‡∏™‡∏õ‡∏µ‡∏î MB/s‚Äù

‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡∏ö‡∏ô `SRC` ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ:

```bash
eta_from_file_and_speed () {
  file="$1"; speed_mb_s="$2"
  bytes=$(stat -c %s "$file")
  echo -n "ETA minutes: "
  echo "scale=2; $bytes/($speed_mb_s*1024*1024)/60" | bc
}
# ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:
eta_from_file_and_speed /path/to/bigfile 75
```

---

# 6) (‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å) ‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ö‡∏≠‡∏Å ETA ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢

## 6.1 `rsync` ‡πÇ‡∏ä‡∏ß‡πå progress/ETA (‡∏Å‡∏î Ctrl+C ‡∏¢‡∏∏‡∏ï‡∏¥‡πÑ‡∏î‡πâ ‡∏ñ‡πâ‡∏≤‡πÅ‡∏Ñ‡πà‡∏ß‡∏±‡∏î)

```bash
rsync -av --info=progress2 \
  -e "ssh -T -o Compression=no -c aes128-gcm@openssh.com" \
  /path/to/bigfile user@10.0.0.50:/mnt/target/
```

## 6.2 `scp` ‡∏Å‡πá‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞ ETA

```bash
scp -o Compression=no -c aes128-gcm@openssh.com \
  /path/to/bigfile user@10.0.0.50:/mnt/target/
```

---

# 7) ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≠‡∏Ç‡∏ß‡∏î‡∏î‡∏¥‡∏™‡∏Å‡πå (‡∏ñ‡πâ‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 4 ‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 3 ‡∏°‡∏≤‡∏Å)

‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‚Äú‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‚Äù ‡∏ö‡∏ô `DST`:

```bash
dd if=/dev/zero of=/mnt/target/dd.test bs=1M count=4096 oflag=direct status=progress
rm -f /mnt/target/dd.test
```

‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‚Äú‡∏≠‡πà‡∏≤‡∏ô‡∏î‡∏¥‡∏™‡∏Å‡πå‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á‚Äù ‡∏ö‡∏ô `SRC`:

```bash
dd if=/path/to/bigfile of=/dev/null bs=1M iflag=direct status=progress
```

* ‡∏ñ‡πâ‡∏≤‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ throughput ‡πÇ‡∏≠‡∏ô‡∏à‡∏£‡∏¥‡∏á ‚Üí ‡∏î‡∏¥‡∏™‡∏Å‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≠‡∏Ç‡∏ß‡∏î

---

## ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô ‡πÜ (‡πÇ‡∏ü‡∏•‡∏ß‡πå‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)

1. `iperf3` ‡∏´‡∏≤‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢
2. `pv | ssh ... > /dev/null` ‡∏î‡∏π‡∏™‡∏õ‡∏µ‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢+SSH
3. `pv | ssh "cat > /mnt/target/..."` ‡∏ß‡∏±‡∏î end-to-end ‡∏à‡∏£‡∏¥‡∏á
4. ‡πÉ‡∏ä‡πâ‡∏™‡∏π‡∏ï‡∏£/‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ETA ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏à‡∏≤‡∏Å‡∏™‡∏õ‡∏µ‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô
5. (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£) ‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢ `rsync --info=progress2` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π ETA ‡πÅ‡∏ö‡∏ö live

‡∏ó‡∏≥‡∏Ñ‡∏£‡∏ö 3‚Äì4 ‡∏™‡πÄ‡∏ï‡πá‡∏õ‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‚Äú‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ‚Äù ‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏™‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏Å‡πâ‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö üëç


